+function(n){+function(i,t,r,e){function o(n,i,t){return 10*(t+n/4<<0)+i+n%4}function c(n,i){return n.repeat(i)}function u(n,i){return E.substr(n,i)}function a(){W=1,clearTimeout(T),R()}function f(){W=0,R(),x()}function s(n){if(Y)return Y=0,void A();if(N&&n in{89:1,78:1})switch(N=0,n){case 89:A();break;case 78:Y=1,R()}if(!N){if(W)return void f();if(n in{27:1,80:1}&&a(),n in{37:1,38:1,39:1}){var i=m(P);switch(n){case 37:i.x=0===i.x?0:i.x-1;break;case 39:var t=10-e[i.i];i.x=i.x===t?t:i.x+1;break;case 38:i=m(P,{i:r[P.i]}),i.x=Math.min(i.x,10-e[i.i])}P=p(i)||P,h(),R()}if(n in{40:1,32:1}){switch(n){case 40:S();break;case 32:for(;S(););}R(),x()}}}function m(n,i){return Object.assign({x:4,y:0,c:0,i:19*Math.random()<<0},n,i)}function p(n){if(!t[n.i].some(function(t,r){if(r=o(r,n.x,n.y),t&&(r>=200||i[r]))return 1}))return n}function v(){for(var t=200,r=10,e=0,o=0;t-=r;)i.slice(t,t+r).every(n)&&(i.splice(t,r),o+=r,e<4&&e++,++j%10===0&&(d=d<9?d+1:1));for(;o--;)i.unshift(0);b+=[0,50,150,350,1e3][e]*d,i.some(n)||(b+=2e3*d)}function h(){O=i.slice(),t[P.i].map(function(n,i){i=o(i,P.x,P.y),void 0!==O[i]&&(O[i]=O[i]||n)})}function S(){var n=m(P,{y:P.y+1,c:P.c+1});return P=p(n)||P,h(),P===n?1:P.c?(b+=10*d,P=y,y=m(),i=O,v(),O=i,void h()):(N=1,void k(b,d,j))}function g(){var n="\n\r",i=c(" ",28),r=i+"<!",e="!>"+i,o=e+r,a=String.fromCharCode(9646),f=c(a,2),s=c(" ",80)+n;if(Y)return i=c(" ",19),E=[-58917640,-942919668,858981133,-2096247688,-1023360221,53509168,-858816512].map(function(n){return(c("0",10)+(n>>>0).toString(2)).substr(-32)}).join("").substr(0,210).split("").map(function(n){return[" ",a][n]}).join("").match(/.{1,42}/g).join(i+n+i),void(E=c(s,8)+i+E+i+n+c(s,4)+c(" ",33)+"PRESS ANY KEY"+c(" ",34)+n+c(s,7));E=O.map(function(n){return[" .",f][n]}).join("").match(/.{20}/g).join(o),E=r+E+o+c("=",20)+e+i+"  "+c("\\/",10)+"  "+i;var m=j.toString();m="ROWS HIT:"+c(" ",15-m.length)+m,E=m+u(24);var p=b.toString().reverse().match(/.{1,3}/g).join(" ").reverse();p="SCORE:"+c(" ",18-p.length)+p,E=u(0,80)+p+u(104),E=u(0,160)+"LEVEL:"+c(" ",17)+d+u(184),t[y.i].map(function(n,i){i=80*(10+2*i/8<<0)+20+2*i%8,n&&(E=u(0,i)+f+u(i+2))}),E=u(0,138)+"UP ARROW: ROTATE"+u(154),E=u(0,216)+"DOWN ARROW: SOFT DROP"+u(237),E=u(0,298)+"SPACEBAR: HARD DROP"+u(317),E=u(0,380)+"ESC, P: PAUSE"+u(393),W&&(E=u(0,757)+"PAUSED"+u(763)),N&&(E=u(0,756)+"TRY AGAIN?"+u(766),E=u(0,836)+"   Y/N    "+u(846)),E=E.match(/.{1,80}/g).join(n),E=s+E+n+c(s,2)}function R(){g(),D(E)}function l(n){k=n.finish||C,(D=n.nextFrame||C)(E)}function x(){clearTimeout(T),N||Y||(T=setTimeout(function(){S(),R(),x()},100*(10-d)))}function A(){y=m(),P=y,i=w,d=1,b=0,j=0,N=0,h(),R(),x()}var E,O,T,d,b,j,y=m(),P=y,w=i.slice(),C=function(){},D=C,k=C,N=0,W=0,Y=1;A(),window.TETRIS={on:l,pause:a,pressKey:s,start:A,upause:f}}("0".repeat(200).split("").map(n),[785,23,547,116,51,114,305,39,562,15,4369,99,306,54,561,802,113,275,71].map(function(i){return(i>>>0).toString(2).split("").reverse().map(n)}),[1,2,3,0,4,6,7,8,5,10,9,12,11,14,13,16,17,18,15],[2,3,2,3,2,3,2,3,2,4,1,3,2,3,2,2,3,2,3])}(parseFloat),String.prototype.reverse=function(){for(var n="",i=this.length;i--;)n+=this.charAt(i);return n};