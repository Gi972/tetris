+function(n){+function(i,t,r,e){function o(n,i,t){return 10*(t+n/4<<0)+i+n%4}function c(n,i){return n.repeat(i)}function u(n,i){return x.substr(n,i)}function a(n){if(N)return N=0,void l();if(D&&n in{89:1,78:1})switch(D=0,n){case 89:l();break;case 78:N=1,S()}if(!D){if(k)return k=0,S(),void R();if(n in{27:1,80:1}&&(k=1,clearTimeout(E),S()),n in{37:1,38:1,39:1}){var i=f(j);switch(n){case 37:i.x=0===i.x?0:i.x-1;break;case 39:var t=10-e[i.i];i.x=i.x===t?t:i.x+1;break;case 38:i=f(j,{i:r[j.i]}),i.x=Math.min(i.x,10-e[i.i])}j=s(i)||j,v(),S()}if(n in{40:1,32:1}){switch(n){case 40:h();break;case 32:for(;h(););}S(),R()}}}function f(n,i){return Object.assign({x:4,y:0,c:0,i:19*Math.random()<<0},n,i)}function s(n){if(!t[n.i].some(function(t,r){if(r=o(r,n.x,n.y),t&&(r>=200||i[r]))return 1}))return n}function m(){for(var t=200,r=10,e=0,o=0;t-=r;)i.slice(t,t+r).every(n)&&(i.splice(t,r),o+=r,e<4&&e++,++d%10===0&&(O=O<9?O+1:1));for(;o--;)i.unshift(0);T+=[0,50,150,350,1e3][e]*O,i.some(n)||(T+=2e3*O)}function v(){A=i.slice(),t[j.i].map(function(n,i){i=o(i,j.x,j.y),void 0!==A[i]&&(A[i]=A[i]||n)})}function h(){var n=f(j,{y:j.y+1,c:j.c+1});return j=s(n)||j,v(),j===n?1:j.c?(T+=10*O,j=b,b=f(),i=A,m(),A=i,void v()):(D=1,void C(T))}function p(){var n="\n\r",i=c(" ",28),r=i+"<!",e="!>"+i,o=e+r,a=String.fromCharCode(9646),f=c(a,2),s=c(" ",80)+n;if(N)return i=c(" ",19),x=[-58917640,-942919668,858981133,-2096247688,-1023360221,53509168,-858816512].map(function(n){return(c("0",10)+(n>>>0).toString(2)).substr(-32)}).join("").substr(0,210).split("").map(function(n){return[" ",a][n]}).join("").match(/.{1,42}/g).join(i+n+i),void(x=c(s,8)+i+x+i+n+c(s,4)+c(" ",33)+"PRESS ANY KEY"+c(" ",34)+n+c(s,7));x=A.map(function(n){return[" .",f][n]}).join("").match(/.{20}/g).join(o),x=r+x+o+c("=",20)+e+i+"  "+c("\\/",10)+"  "+i;var m=d.toString();m="ROWS HIT:"+c(" ",15-m.length)+m,x=m+u(24);var v=T.toString().reverse().match(/.{1,3}/g).join(" ").reverse();v="SCORE:"+c(" ",18-v.length)+v,x=u(0,80)+v+u(104),x=u(0,160)+"LEVEL:"+c(" ",17)+O+u(184),t[b.i].map(function(n,i){i=80*(10+2*i/8<<0)+20+2*i%8,n&&(x=u(0,i)+f+u(i+2))}),x=u(0,138)+"UP ARROW: ROTATE"+u(154),x=u(0,216)+"DOWN ARROW: SOFT DROP"+u(237),x=u(0,298)+"SPACEBAR: HARD DROP"+u(317),x=u(0,380)+"ESC, P: PAUSE"+u(393),k&&(x=u(0,757)+"PAUSED"+u(763)),D&&(x=u(0,756)+"TRY AGAIN?"+u(766),x=u(0,836)+"   Y/N    "+u(846)),x=x.match(/.{1,80}/g).join(n),x=s+x+n+c(s,2)}function S(){p(),w(x)}function g(n){C=n.finish||P,(w=n.nextFrame||P)(x)}function R(){clearTimeout(E),D||N||(E=setTimeout(function(){h(),S(),R()},100*(10-O)))}function l(){b=f(),j=b,i=y,O=1,T=0,d=0,v(),S(),R()}var x,A,E,O,T,d,b=f(),j=b,y=i.slice(),P=function(){},w=P,C=P,D=0,k=0,N=1;l(),window.TETRIS={pressKey:a,on:g}}("0".repeat(200).split("").map(n),[785,23,547,116,51,114,305,39,562,15,4369,99,306,54,561,802,113,275,71].map(function(i){return(i>>>0).toString(2).split("").reverse().map(n)}),[1,2,3,0,4,6,7,8,5,10,9,12,11,14,13,16,17,18,15],[2,3,2,3,2,3,2,3,2,4,1,3,2,3,2,2,3,2,3])}(parseFloat),String.prototype.reverse=function(){for(var n="",i=this.length;i--;)n+=this.charAt(i);return n};